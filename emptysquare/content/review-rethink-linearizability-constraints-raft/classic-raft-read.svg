<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="575.2280526339753"
     height="576.4818899979999"><desc>Client-%3ELeader%3A%20query%0Abox%20over%20Leader%3A%20readIndex%20%3A%3D%20commitIndex%0A%0ALeader-%3EFollower1%3A%20AppendEntries%0ALeader-%3EFollower2%3A%20AppendEntries%0A%0AFollower1-%3ELeader%3A%20AppendEntriesResponse%0A%0Abox%20over%20Leader%3A%20wait%20until%20lastApplied%20%E2%89%A5%20readIndex%0A%0Abox%20over%20Leader%3A%20run%20query%0A%0ALeader-%3EClient%3A%20result%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="575" height="576"/></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.62308593066015 59.284222437999986 L 46.62308593066015 576.4818899979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 187.15904303265233 59.284222437999986 L 187.15904303265233 576.4818899979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.2535778620143 59.284222437999986 L 396.2535778620143 576.4818899979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 515.5698943766549 59.284222437999986 L 515.5698943766549 576.4818899979999" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray="13.532121076923076,5.863919133333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 8.795878699999996 11.786477457999997 L 84.4502931613203 11.786477457999997 L 84.4502931613203 59.284222437999986 L 8.795878699999996 59.284222437999986 L 8.795878699999996 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="27.882935478999997" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 145.24808793822265 11.786477457999997 L 229.06999812708204 11.786477457999997 L 229.06999812708204 59.284222437999986 L 145.24808793822265 59.284222437999986 L 145.24808793822265 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="164.33514471722265" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Leader</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 345.391298304694 11.786477457999997 L 447.1158574193346 11.786477457999997 L 447.1158574193346 59.284222437999986 L 345.391298304694 59.284222437999986 L 345.391298304694 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="364.478355083694" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Follower1</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 464.7076148193346 11.786477457999997 L 566.4321739339753 11.786477457999997 L 566.4321739339753 59.284222437999986 L 464.7076148193346 59.284222437999986 L 464.7076148193346 11.786477457999997 Z" stroke-miterlimit="10" stroke-width="2.814681184" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="483.7946715983346" y="41.692465037999995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Follower2</text></g></g><g><g><rect fill="white" stroke="none" x="95.91659225349218" y="94.46773723799997" width="41.94894445632812" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="98.55535586349218" y="110.30031889799997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">query</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 46.62308593066015 117.33702185799999 L 172.67516277331902 117.33702185799999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(187.15904303265233,117.33702185799999) translate(-187.15904303265233,-117.33702185799999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 172.499245199319 110.00712294133332 L 187.15904303265233 117.33702185799999 L 172.499245199319 124.66692077466665 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 77.98873544364842 143.72465795799997 L 296.32935062165626 143.72465795799997 L 296.32935062165626 184.18569997799997 L 77.98873544364842 184.18569997799997 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="102.61719580364843" y="168.353118318" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">readIndex := commitIndex</text></g><g><rect fill="white" stroke="none" x="240.98238753557547" y="210.57333607799998" width="101.44784582351562" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="243.62115114557548" y="226.405917738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AppendEntries</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 187.15904303265233 233.44262069799998 L 381.769697602681 233.44262069799998" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(396.2535778620143,233.44262069799998) translate(-396.2535778620143,-233.44262069799998)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 381.59378002868095 226.1127217813333 L 396.2535778620143 233.44262069799998 L 381.59378002868095 240.77251961466666 Z"/></g></g><g><rect fill="white" stroke="none" x="300.6405457928958" y="259.830256798" width="101.44784582351562" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="303.2793094028958" y="275.662838458" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AppendEntries</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 187.15904303265233 282.69954141799997 L 501.0860141173216 282.69954141799997" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(515.5698943766549,282.69954141799997) translate(-515.5698943766549,-282.69954141799997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 500.9100965433216 275.3696425013333 L 515.5698943766549 282.69954141799997 L 500.9100965433216 290.0294403346666 Z"/></g></g><g><rect fill="white" stroke="none" x="207.97595595598563" y="309.087177518" width="167.4607089826953" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="210.61471956598564" y="324.919759178" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">AppendEntriesResponse</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 396.2535778620143 331.95646213799995 L 201.64292329198565 331.95646213799995" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(187.15904303265233,331.95646213799995) translate(-187.15904303265233,-331.95646213799995)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 201.81884086598566 324.6265632213333 L 187.15904303265233 331.95646213799995 L 201.81884086598566 339.2863610546666 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 55.418964630660156 358.34409823799996 L 318.8991214346445 358.34409823799996 L 318.8991214346445 398.80514025799994 L 55.418964630660156 398.80514025799994 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="80.04742499066015" y="382.9725585979999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">wait until lastApplied ≥ readIndex</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 131.5642435613242 425.19277635799995 L 242.75384250398045 425.19277635799995 L 242.75384250398045 465.6538183779999 L 131.5642435613242 465.6538183779999 Z" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="156.1927039213242" y="449.8212367179999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">run query</text></g><g><rect fill="white" stroke="none" x="96.32819045905859" y="492.04145447799993" width="41.12574804519531" height="22.86928462"/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="98.96695406905859" y="507.87403613799995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">result</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 187.15904303265233 514.9107390979999 L 61.106966189993486 514.9107390979999" stroke-miterlimit="10" stroke-width="1.4659797833333332"/><g transform="translate(46.62308593066015,514.9107390979999) translate(-46.62308593066015,-514.9107390979999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 61.28288376399348 507.58084018133326 L 46.62308593066015 514.9107390979999 L 61.28288376399348 522.2406380146666 Z"/></g></g></g><g/><g/><g/><g/></g></svg>
